import { Form } from "@torpor/ui/Form";
import type UserModel from "../../types/UserModel";

/**
 * Shows a menu for selecting Profile sections.
 */
export default function ProfileMenu($props: { section: string, user: UserModel, base: string }) {
	@render {
		<div class="hstack full-width subnav-menu">
			@if ($props.section === "Profile") {
				<h1>Profile</h1>
			} else if ($props.section === "Edit") {
				<h1>Edit Profile</h1>
			}

			<div class="spacer" />

			@if ($props.user) {
				@if ($props.section !== "Profile") {
					<a class="subnav-link" href="{$props.base}profile">
						Profile
					</a>
				}
				@if ($props.section !== "Edit") {
					<a class="subnav-link" href="{$props.base}profile/edit">
						Edit
					</a>
				}
				<Form action="?/logout">
					<button class="subnav-button">
						Log out
					</button>
				</Form>
			} else {
				<a class="subnav-link" href="{$props.base}account/login">
					Log in
				</a>
			}
		</div>
	}
}
